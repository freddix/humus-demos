Summary:	Demos by Humus
Name:		humus-demos
Version:	0
Release:	1
License:	other
Group:		X11/Applications
Source0:	http://www.humus.name/3D/Framework.zip
# Source0-md5:	efa230b96d2d3813b4cae84f0e433eae
Source1:	http://www.humus.name/3D/Framework2.zip
# Source1-md5:	1f62610e55ec60e518f4844d3c9d9f63
Source2:	http://www.humus.name/3D/Framework3.zip
# Source2-md5:	eb0f693183a18a08ea14e6d1fa17692c
Source11:	http://www.humus.name/3D/Domino.zip
# Source11-md5:	771007997c263e676079aa108fe9ea87
Source12:	http://www.humus.name/3D/AmbientApertureLighting.zip
# Source12-md5:	a6b9011d97b78b2a980c4446b1b6f567
Source13:	http://www.humus.name/3D/VolumetricFogging2.zip
# Source13-md5:	95f6f0a22e0d4dfba8e55f5f50f5e958
Source14:	http://www.humus.name/3D/DynamicBranching3.zip
# Source14-md5:	2864f7bc2fef31b356b2b45e28caa394
Source15:	http://www.humus.name/3D/GameEngine2.zip
# Source15-md5:	4760c1cfe36e2eda3ed6652b57099be2
Source16:	http://www.humus.name/3D/HDR.zip
# Source16-md5:	a7dfcd7dbe63582f426754053438cb00
Source17:	http://www.humus.name/3D/AlphaToCoverage.zip
# Source17-md5:	42958d9f6b111d98751ad3ec6c0983e1
Source18:	http://www.humus.name/3D/HSRBench.zip
# Source18-md5:	54ebabb1980ba65e95c50a4b6ea4e638
Source19:	http://www.humus.name/3D/CelShading.zip
# Source19-md5:	79c17fe09065c5e80847396cb8d77c13
Source20:	http://www.humus.name/3D/MetaBalls.zip
# Source20-md5:	54534485013bea009c1c4d743fa34f5e
Source21:	http://www.humus.name/3D/DepthOfField2.zip
# Source21-md5:	b52660b46c7c3925291a9bb4d2443527
Source22:	http://www.humus.name/3D/LightTrail.zip
# Source22-md5:	a573f816adec83b5d619b87ee6d36eef
Source23:	http://www.humus.name/3D/RaytracedShadows.zip
# Source23-md5:	95f118153ef64612f4195a90358b2670
Source24:	http://www.humus.name/3D/SoftShadows.zip
# Source24-md5:	1869ef99670a92567d58d465b7d5fce5
Source25:	http://www.humus.name/3D/Fire2.zip
# Source25-md5:	b0b6b456b709c5d13dba24f74978fa08
Source26:	http://www.humus.name/3D/Flag.zip
# Source26-md5:	36f9a65ac03fbec70d8966804dd2fdba
Source27:	http://www.humus.name/3D/Cloth.zip
# Source27-md5:	3aa39d98cec07d6c75d6706590a49c21
Source28:	http://www.humus.name/3D/Portals.zip
# Source28-md5:	a65cb8fa7021f51556b5f8cf6b7ba701
Source29:	http://www.humus.name/3D/Chess.zip
# Source29-md5:	23faafd03108a519982b4206df09fb82
Source30:	http://www.humus.name/3D/VolumetricLightingII.zip
# Source30-md5:	8275092c5cee7d541bba34567e0cd6e2
Source31:	http://www.humus.name/3D/Electro.zip
# Source31-md5:	4bd12f74a95e5d344797daab9312cf09
Source32:	http://www.humus.name/3D/DPS.zip
# Source32-md5:	b53741c9c2901f77c54b3a68f5923d10
Source33:	http://www.humus.name/3D/Fire.zip
# Source33-md5:	db55f66d34627d4e92e160d359651f09
Source34:	http://www.humus.name/3D/Glow.zip
# Source34-md5:	734d4b0ff7fd214d1838f6f1247191cc
Source35:	http://www.humus.name/3D/SoftCoronas.zip
# Source35-md5:	d9f700e4b56e2288d3a45cce81eb1074
Source36:	http://www.humus.name/3D/PerlinNoise.zip
# Source36-md5:	aaa996dda2923b50ef044c53a030a7d6
Source37:	http://www.humus.name/3D/ShadowsThatRock.zip
# Source37-md5:	e857270954a7df72681350de06d1b05e
Source38:	http://www.humus.name/3D/MotionBlur.zip
# Source38-md5:	65291dee1c0f53245bf57c98f8ab285c
Source39:	http://www.humus.name/3D/DepthOfField.zip
# Source39-md5:	7d0370c472c628b4cc13fc8ee53534fd
Source40:	http://www.humus.name/3D/InfiniteTerrain.zip
# Source40-md5:	cbe4d8aea5bf870332bd5198b09e9b4c
Source41:	http://www.humus.name/3D/Mandelbrot.zip
# Source41-md5:	3ab6fe707475d805e3b859465a5d2dfb
Source42:	http://www.humus.name/3D/ShadowsInFog.zip
# Source42-md5:	1489b85c928a3ececb798d407582af22
Source43:	http://www.humus.name/3D/Phong.zip
# Source43-md5:	541e4e0cbe3f208e9ee839ed4ef5017d
Patch0:		%{name}-Framework-fixes.patch
Patch1:		%{name}-Framework2-fixes.patch
Patch2:		%{name}-Framework3-fixes.patch
Patch3:		%{name}-link.patch
Patch4:		chess-link.patch
#BuildRequires:	-
#BuildRequires:	autoconf
#BuildRequires:	automake
#BuildRequires:	intltool
#BuildRequires:	libtool
#Requires(postun):	-
#Requires(pre,post):	-
#Requires(preun):	-
#Requires:	-
#Provides:	-
#Provides:	group(foo)
#Provides:	user(foo)
#Obsoletes:	-
#Conflicts:	-
BuildRoot:	%{tmpdir}/%{name}-%{version}-root-%(id -u -n)

%define		fwork1_dirs	Chess DPS DepthOfField Electro Fire Glow InfiniteTerrain Mandelbrot MotionBlur PerlinNoise Phong ShadowsInFog ShadowsThatRock SoftCoronas VolumetricLightingII
%define		fwork2_dirs	AlphaToCoverage CelShading Cloth DepthOfField2 Fire2 Flag LightTrail MetaBalls Portals RaytracedShadows SoftShadows
%define		fwork3_dirs	AmbientAperture Domino DynamicBranching3 GameEngine2 HDR HSRBench VolumetricFogging2

%description


%prep
%setup -qc -a1 -a2
unzip -q -o %{SOURCE11}
unzip -q -o %{SOURCE12}
unzip -q -o %{SOURCE13}
unzip -q -o %{SOURCE14}
unzip -q -o %{SOURCE15}
unzip -q -o %{SOURCE16}
unzip -q -o %{SOURCE17}
unzip -q -o %{SOURCE18}
unzip -q -o %{SOURCE19}
unzip -q -o %{SOURCE20}
unzip -q -o %{SOURCE21}
unzip -q -o %{SOURCE22}
unzip -q -o %{SOURCE23}
unzip -q -o %{SOURCE24}
unzip -q -o %{SOURCE25}
unzip -q -o %{SOURCE26}
unzip -q -o %{SOURCE27}
unzip -q -o %{SOURCE28}
unzip -q -o %{SOURCE29}
unzip -q -o %{SOURCE30}
unzip -q -o %{SOURCE31}
unzip -q -o %{SOURCE32}
unzip -q -o %{SOURCE33}
unzip -q -o %{SOURCE34}
unzip -q -o %{SOURCE35}
unzip -q -o %{SOURCE36}
unzip -q -o %{SOURCE37}
unzip -q -o %{SOURCE38}
unzip -q -o %{SOURCE39}
unzip -q -o %{SOURCE40}
unzip -q -o %{SOURCE41}
unzip -q -o %{SOURCE42}
unzip -q -o %{SOURCE43}

%patch0 -p0
%patch1 -p0
%patch2 -p0
%patch3 -p1
%patch4 -p0

%build
for dir in %{fwork1_dirs} %{fwork2_dirs} %{fwork3_dirs}; do
    cd ${dir}
	%{__make} -k -j1 \
		LDFLAGS=%{rpmldflags}	\
		RELEASE="%{rpmcflags} -ffast-math"	\
		DEBUG=
    cd ..
done

%install
rm -rf $RPM_BUILD_ROOT
#install -d $RPM_BUILD_ROOT

%{__make} install \
	DESTDIR=$RPM_BUILD_ROOT

%clean
rm -rf $RPM_BUILD_ROOT

%pre

%post

%preun

%postun

%if %{with ldconfig}
%post	-p /sbin/ldconfig
%postun	-p /sbin/ldconfig
%endif

%if %{with initscript}
%post init
/sbin/chkconfig --add %{name}
%service %{name} restart

%preun init
if [ "$1" = "0" ]; then
	%service -q %{name} stop
	/sbin/chkconfig --del %{name}
fi
%endif

%files
%defattr(644,root,root,755)
%doc AUTHORS ChangeLog NEWS README TODO

%if 0
# if _sysconfdir != /etc:
#%%dir %{_sysconfdir}
%config(noreplace) %verify(not md5 mtime size) %{_sysconfdir}/*
%attr(755,root,root) %{_bindir}/*
%{_datadir}/%{name}
%endif

# initscript and its config
%if %{with initscript}
%attr(754,root,root) /etc/rc.d/init.d/%{name}
%config(noreplace) %verify(not md5 mtime size) /etc/sysconfig/%{name}
%endif

#%{_examplesdir}/%{name}-%{version}

%if %{with subpackage}
%files subpackage
%defattr(644,root,root,755)
#%doc extras/*.gz
#%{_datadir}/%{name}-ext
%endif
